{
  "balance_multipliers": {
    "tower_damage": 1.6,
    "hero_damage": 0.75,
    "npc_damage": 1.6
  },
  "shared_hp_pool": {
    "by_player_count": {
      "1": { "initial_hp": 120, "enemy_hp_coeff": 0.55, "enemy_count_coeff": 0.6, "resource_drop_coeff": 1.15 },
      "2": { "initial_hp": 150, "enemy_hp_coeff": 0.75, "enemy_count_coeff": 0.75, "resource_drop_coeff": 1.0 },
      "3": { "initial_hp": 170, "enemy_hp_coeff": 0.85, "enemy_count_coeff": 0.85, "resource_drop_coeff": 0.95 },
      "4": { "initial_hp": 200, "enemy_hp_coeff": 1.0, "enemy_count_coeff": 1.0, "resource_drop_coeff": 0.9 }
    },
    "last_stand_threshold": 0.30,
    "last_stand_attack_bonus": 0.20
  },
  "stages": [
    {
      "id": "stage_1_tutorial",
      "name": "引导阶段",
      "stage_number": 1,
      "balance_multipliers": {
        "hero_damage": 0.6,
        "tower_damage": 1.8,
        "npc_damage": 1.6
      },
      "waves": [
        {
          "id": "wave_1_1",
          "label": "教学",
          "enemies": [
            { "type": "slime", "count": 10, "interval": 0.5 }
          ],
          "spawn_routes": ["north"],
          "duration": 20,
          "rewards": { "gold": 100, "exp": 20 },
          "tutorial_text": "WASD 移动英雄，消灭所有史莱姆！"
        },
        {
          "id": "wave_1_2",
          "label": "初战",
          "enemies": [
            { "type": "goblin", "count": 20, "interval": 0.4 }
          ],
          "spawn_routes": ["north"],
          "duration": 30,
          "rewards": { "gold": 60, "crystal": 20, "badge": 10, "exp": 50 },
          "tutorial_text": "按 1/2/3 放置建筑，鼠标左键确认",
          "prepare_tutorial": "建议先建金矿，保障经济！"
        }
      ]
    },
    {
      "id": "stage_2",
      "name": "第二阶段",
      "stage_number": 2,
      "balance_multipliers": {
        "hero_damage": 0.8,
        "tower_damage": 1.4,
        "npc_damage": 1.6
      },
      "waves": [
        {
          "id": "wave_2_1",
          "label": "热身",
          "tension": 1,
          "enemies": [
            { "type": "skeleton", "count": 25, "interval": 0.3 }
          ],
          "spawn_routes": ["north"],
          "duration": 25,
          "rewards": { "gold": 60, "exp": 40 }
        },
        {
          "id": "wave_2_2",
          "label": "试探",
          "tension": 2,
          "enemies": [
            { "type": "skeleton", "count": 25, "interval": 0.25 },
            { "type": "ghost", "count": 8, "interval": 0.5 }
          ],
          "spawn_routes": ["north", "east"],
          "duration": 35,
          "rewards": { "gold": 55, "exp": 50 }
        },
        {
          "id": "wave_2_3",
          "label": "策略",
          "tension": 3,
          "enemies": [
            { "type": "skeleton", "count": 20, "interval": 0.2 },
            { "type": "zombie", "count": 10, "interval": 0.4 },
            { "type": "orc_elite", "count": 1, "interval": 0, "delay": 15 }
          ],
          "spawn_routes": ["north", "east"],
          "duration": 45,
          "rewards": { "gold": 70, "crystal": 8, "exp": 70 }
        },
        {
          "id": "wave_2_4",
          "label": "压力",
          "tension": 4,
          "enemies": [
            { "type": "skeleton", "count": 15, "interval": 0.2 },
            { "type": "ghost", "count": 12, "interval": 0.3 },
            { "type": "zombie", "count": 12, "interval": 0.4 },
            { "type": "orc_elite", "count": 2, "interval": 0, "delay": 10 }
          ],
          "spawn_routes": ["north", "east"],
          "duration": 55,
          "rewards": { "gold": 90, "crystal": 12, "badge": 3, "exp": 90 }
        },
        {
          "id": "wave_2_5",
          "label": "BOSS",
          "tension": 5,
          "enemies": [
            { "type": "demon_boss", "count": 1, "interval": 0, "delay": 5 },
            { "type": "skeleton", "count": 0, "spawn_continuous": true, "spawn_rate": 6, "spawn_interval": 8 }
          ],
          "spawn_routes": ["north", "east"],
          "duration": 60,
          "rewards": { "gold": 180, "crystal": 20, "badge": 8, "exp": 180 }
        }
      ]
    },
    {
      "id": "stage_3",
      "name": "第三阶段",
      "stage_number": 3,
      "balance_multipliers": {
        "hero_damage": 1.0,
        "tower_damage": 1.2,
        "npc_damage": 1.8
      },
      "waves": [
        {
          "id": "wave_3_1",
          "label": "热身",
          "tension": 2,
          "enemies": [
            { "type": "skeleton", "count": 30, "interval": 0.25, "hp_multiplier": 1.5 },
            { "type": "ghost", "count": 5, "interval": 0.6, "hp_multiplier": 1.5, "delay": 5 }
          ],
          "spawn_routes": ["north", "east"],
          "duration": 30,
          "rewards": { "gold": 80, "crystal": 10, "exp": 60 }
        },
        {
          "id": "wave_3_2",
          "label": "试探",
          "tension": 3,
          "enemies": [
            { "type": "skeleton", "count": 25, "interval": 0.2 },
            { "type": "zombie", "count": 10, "interval": 0.4, "delay": 5 },
            { "type": "orc_elite", "count": 2, "interval": 0, "delay": 15 }
          ],
          "spawn_routes": ["north", "east", "south"],
          "duration": 40,
          "rewards": { "gold": 75, "crystal": 15, "exp": 75 }
        },
        {
          "id": "wave_3_3",
          "label": "策略",
          "tension": 4,
          "enemies": [
            { "type": "skeleton", "count": 20, "interval": 0.2 },
            { "type": "ghost", "count": 8, "interval": 0.4, "delay": 3 },
            { "type": "zombie", "count": 12, "interval": 0.35, "delay": 5 },
            { "type": "orc_elite", "count": 3, "interval": 0, "delay": 20 }
          ],
          "spawn_routes": ["north", "east", "south"],
          "duration": 50,
          "rewards": { "gold": 100, "crystal": 18, "badge": 5, "exp": 100 }
        },
        {
          "id": "wave_3_4",
          "label": "压力",
          "tension": 4,
          "enemies": [
            { "type": "skeleton", "count": 15, "interval": 0.2 },
            { "type": "ghost", "count": 10, "interval": 0.3, "delay": 3 },
            { "type": "zombie", "count": 15, "interval": 0.3, "delay": 5 },
            { "type": "orc_elite", "count": 4, "interval": 0, "delay": 15 },
            { "type": "orc_elite", "count": 1, "interval": 0, "delay": 30, "hp_multiplier": 2.0 }
          ],
          "spawn_routes": ["north", "east", "south", "west"],
          "duration": 60,
          "rewards": { "gold": 120, "crystal": 22, "badge": 8, "exp": 130 }
        },
        {
          "id": "wave_3_5",
          "label": "BOSS",
          "tension": 5,
          "enemies": [
            { "type": "demon_boss", "count": 1, "interval": 0, "delay": 5, "hp_multiplier": 2.0 },
            { "type": "skeleton", "count": 0, "spawn_continuous": true, "spawn_rate": 6, "spawn_interval": 6 }
          ],
          "spawn_routes": ["north", "east", "south", "west"],
          "duration": 75,
          "rewards": { "gold": 250, "crystal": 35, "badge": 15, "exp": 250 }
        }
      ]
    }
  ]
}
